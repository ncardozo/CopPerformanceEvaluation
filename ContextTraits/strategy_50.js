var BaseClass = function() {};
BaseClass.prototype.test=function() {
    throw new Error('Strategy#execute needs to be overridden');
}; 

var Strategy1 = function() {};
Strategy1.prototype = Object.create(BaseClass.prototype);
Strategy1.prototype.test = function() {
  return 1;
}; 

var Strategy2 = function() {};
Strategy2.prototype = Object.create(BaseClass.prototype);
Strategy2.prototype.test = function() {
  return 2;
}; 

var Strategy3 = function() {};
Strategy3.prototype = Object.create(BaseClass.prototype);
Strategy3.prototype.test = function() {
  return 3;
}; 

var Strategy4 = function() {};
Strategy4.prototype = Object.create(BaseClass.prototype);
Strategy4.prototype.test = function() {
  return 4;
}; 

var Strategy5 = function() {};
Strategy5.prototype = Object.create(BaseClass.prototype);
Strategy5.prototype.test = function() {
  return 5;
}; 

var Strategy6 = function() {};
Strategy6.prototype = Object.create(BaseClass.prototype);
Strategy6.prototype.test = function() {
  return 6;
}; 

var Strategy7 = function() {};
Strategy7.prototype = Object.create(BaseClass.prototype);
Strategy7.prototype.test = function() {
  return 7;
}; 

var Strategy8 = function() {};
Strategy8.prototype = Object.create(BaseClass.prototype);
Strategy8.prototype.test = function() {
  return 8;
}; 

var Strategy9 = function() {};
Strategy9.prototype = Object.create(BaseClass.prototype);
Strategy9.prototype.test = function() {
  return 9;
}; 

var Strategy10 = function() {};
Strategy10.prototype = Object.create(BaseClass.prototype);
Strategy10.prototype.test = function() {
  return 10;
}; 

var Strategy11 = function() {};
Strategy11.prototype = Object.create(BaseClass.prototype);
Strategy11.prototype.test = function() {
  return 11;
}; 

var Strategy12 = function() {};
Strategy12.prototype = Object.create(BaseClass.prototype);
Strategy12.prototype.test = function() {
  return 12;
}; 

var Strategy13 = function() {};
Strategy13.prototype = Object.create(BaseClass.prototype);
Strategy13.prototype.test = function() {
  return 13;
}; 

var Strategy14 = function() {};
Strategy14.prototype = Object.create(BaseClass.prototype);
Strategy14.prototype.test = function() {
  return 14;
}; 

var Strategy15 = function() {};
Strategy15.prototype = Object.create(BaseClass.prototype);
Strategy15.prototype.test = function() {
  return 15;
}; 

var Strategy16 = function() {};
Strategy16.prototype = Object.create(BaseClass.prototype);
Strategy16.prototype.test = function() {
  return 16;
}; 

var Strategy17 = function() {};
Strategy17.prototype = Object.create(BaseClass.prototype);
Strategy17.prototype.test = function() {
  return 17;
}; 

var Strategy18 = function() {};
Strategy18.prototype = Object.create(BaseClass.prototype);
Strategy18.prototype.test = function() {
  return 18;
}; 

var Strategy19 = function() {};
Strategy19.prototype = Object.create(BaseClass.prototype);
Strategy19.prototype.test = function() {
  return 19;
}; 

var Strategy20 = function() {};
Strategy20.prototype = Object.create(BaseClass.prototype);
Strategy20.prototype.test = function() {
  return 20;
}; 

var Strategy21 = function() {};
Strategy21.prototype = Object.create(BaseClass.prototype);
Strategy21.prototype.test = function() {
  return 21;
}; 

var Strategy22 = function() {};
Strategy22.prototype = Object.create(BaseClass.prototype);
Strategy22.prototype.test = function() {
  return 22;
}; 

var Strategy23 = function() {};
Strategy23.prototype = Object.create(BaseClass.prototype);
Strategy23.prototype.test = function() {
  return 23;
}; 

var Strategy24 = function() {};
Strategy24.prototype = Object.create(BaseClass.prototype);
Strategy24.prototype.test = function() {
  return 24;
}; 

var Strategy25 = function() {};
Strategy25.prototype = Object.create(BaseClass.prototype);
Strategy25.prototype.test = function() {
  return 25;
}; 

var Strategy26 = function() {};
Strategy26.prototype = Object.create(BaseClass.prototype);
Strategy26.prototype.test = function() {
  return 26;
}; 

var Strategy27 = function() {};
Strategy27.prototype = Object.create(BaseClass.prototype);
Strategy27.prototype.test = function() {
  return 27;
}; 

var Strategy28 = function() {};
Strategy28.prototype = Object.create(BaseClass.prototype);
Strategy28.prototype.test = function() {
  return 28;
}; 

var Strategy29 = function() {};
Strategy29.prototype = Object.create(BaseClass.prototype);
Strategy29.prototype.test = function() {
  return 29;
}; 

var Strategy30 = function() {};
Strategy30.prototype = Object.create(BaseClass.prototype);
Strategy30.prototype.test = function() {
  return 30;
}; 

var Strategy31 = function() {};
Strategy31.prototype = Object.create(BaseClass.prototype);
Strategy31.prototype.test = function() {
  return 31;
}; 

var Strategy32 = function() {};
Strategy32.prototype = Object.create(BaseClass.prototype);
Strategy32.prototype.test = function() {
  return 32;
}; 

var Strategy33 = function() {};
Strategy33.prototype = Object.create(BaseClass.prototype);
Strategy33.prototype.test = function() {
  return 33;
}; 

var Strategy34 = function() {};
Strategy34.prototype = Object.create(BaseClass.prototype);
Strategy34.prototype.test = function() {
  return 34;
}; 

var Strategy35 = function() {};
Strategy35.prototype = Object.create(BaseClass.prototype);
Strategy35.prototype.test = function() {
  return 35;
}; 

var Strategy36 = function() {};
Strategy36.prototype = Object.create(BaseClass.prototype);
Strategy36.prototype.test = function() {
  return 36;
}; 

var Strategy37 = function() {};
Strategy37.prototype = Object.create(BaseClass.prototype);
Strategy37.prototype.test = function() {
  return 37;
}; 

var Strategy38 = function() {};
Strategy38.prototype = Object.create(BaseClass.prototype);
Strategy38.prototype.test = function() {
  return 38;
}; 

var Strategy39 = function() {};
Strategy39.prototype = Object.create(BaseClass.prototype);
Strategy39.prototype.test = function() {
  return 39;
}; 

var Strategy40 = function() {};
Strategy40.prototype = Object.create(BaseClass.prototype);
Strategy40.prototype.test = function() {
  return 40;
}; 

var Strategy41 = function() {};
Strategy41.prototype = Object.create(BaseClass.prototype);
Strategy41.prototype.test = function() {
  return 41;
}; 

var Strategy42 = function() {};
Strategy42.prototype = Object.create(BaseClass.prototype);
Strategy42.prototype.test = function() {
  return 42;
}; 

var Strategy43 = function() {};
Strategy43.prototype = Object.create(BaseClass.prototype);
Strategy43.prototype.test = function() {
  return 43;
}; 

var Strategy44 = function() {};
Strategy44.prototype = Object.create(BaseClass.prototype);
Strategy44.prototype.test = function() {
  return 44;
}; 

var Strategy45 = function() {};
Strategy45.prototype = Object.create(BaseClass.prototype);
Strategy45.prototype.test = function() {
  return 45;
}; 

var Strategy46 = function() {};
Strategy46.prototype = Object.create(BaseClass.prototype);
Strategy46.prototype.test = function() {
  return 46;
}; 

var Strategy47 = function() {};
Strategy47.prototype = Object.create(BaseClass.prototype);
Strategy47.prototype.test = function() {
  return 47;
}; 

var Strategy48 = function() {};
Strategy48.prototype = Object.create(BaseClass.prototype);
Strategy48.prototype.test = function() {
  return 48;
}; 

var Strategy49 = function() {};
Strategy49.prototype = Object.create(BaseClass.prototype);
Strategy49.prototype.test = function() {
  return 49;
}; 

var Strategy50 = function() {};
Strategy50.prototype = Object.create(BaseClass.prototype);
Strategy50.prototype.test = function() {
  return 50;
}; 

var Foo = function(strategy) {
    this.strategy = strategy;
};
Foo.prototype.setStrategy = function(strategy) {
    this.strategy = strategy;
};
Foo.prototype.test = function() {
    return this.strategy.test();
}; 
function testContexts() {
    var i;
    var j;
    var ITER = 1000;
    var CALLS = 100;
    var beginning_time = new Date().getTime();
    var foo = new Foo(new BaseClass);
    for(i = 0; i < ITER; i++) {
        num = 1 + Math.floor(Math.random()*50);
        foo.setStrategy(eval("new Strategy" + num));
        for(j = 1; j <= CALLS; j++) {
            foo.test();
        }
    }
    var end_time = new Date().getTime();
    return end_time - beginning_time;
} 

function runs(run) {
    var fs = require("fs");
    var times;
    fs.writeFileSync("./runs_strategy/50/test"+run+".csv", "");
    fs.appendFileSync("./runs_strategy/50/test"+run+".csv", "iteration, Elapsed time in milliseconds \n");
    for(times = 1; times <= 100; times++) {
        var elapsed_time = testContexts();
        fs.appendFileSync("./runs_strategy/50/test"+run+".csv", times + "," + elapsed_time + "\n");
    }
}

var run;
for(run=1; run <=10; run++) {
    runs(run);
}

